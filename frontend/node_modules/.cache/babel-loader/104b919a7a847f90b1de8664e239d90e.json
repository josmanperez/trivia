{"ast":null,"code":"import*as React from\"react\";import{useQuery}from\"@apollo/client\";import{FIND_RANKING}from\"../graphql-operations\";import{Button,Col,Container,ListGroup,Modal,Row,Spinner}from'react-bootstrap';import{client}from\"..\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Ranking(props){var _useQuery=useQuery(FIND_RANKING),loading=_useQuery.loading,data=_useQuery.data;var ranking=data?data.RankingSorted:null;var show=props.show,setShow=props.setShow;var handleClose=function handleClose(){client.clearStore();setShow(false);};function drawRanking(ranking,position){return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"ranking\",as:\"li\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"8\",className:\"ranking-col\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{style:{fontSize:\"1.5rem\"},children:ranking.user.email})}),/*#__PURE__*/_jsxs(Row,{className:\"ranking-stats\",children:[/*#__PURE__*/_jsx(Col,{children:\"Win Rate\"}),/*#__PURE__*/_jsx(Col,{children:\"Total Time\"}),/*#__PURE__*/_jsx(Col,{children:\"Total Games\"})]}),/*#__PURE__*/_jsxs(Row,{className:\"ranking-stats\",children:[/*#__PURE__*/_jsx(Col,{children:ranking.winRate==0?ranking.winRate:ranking.winRate.toFixed(2)}),/*#__PURE__*/_jsx(Col,{children:new Date(ranking.totalTime*1000).toISOString().substr(11,8)}),/*#__PURE__*/_jsx(Col,{children:ranking.totalGames})]})]}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"d-flex align-items-center justify-content-center ranking-position numberCircle\",children:position+1})]})})},ranking._id);}return/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Trivia Ranking\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:loading?/*#__PURE__*/_jsx(Spinner,{className:\"loader\",animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Loading...\"})}):/*#__PURE__*/_jsx(ListGroup,{as:\"ul\",children:ranking&&ranking.map(function(user,index){return drawRanking(user,index);})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})})]});}","map":{"version":3,"names":["React","useQuery","FIND_RANKING","Button","Col","Container","ListGroup","Modal","Row","Spinner","client","Ranking","props","loading","data","ranking","RankingSorted","show","setShow","handleClose","clearStore","drawRanking","position","fontSize","user","email","winRate","toFixed","Date","totalTime","toISOString","substr","totalGames","_id","map","index"],"sources":["/Users/josman.perez/Documents/Development/Web/trivia-flexible/src/components/Ranking.js"],"sourcesContent":["import * as React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { FIND_RANKING } from \"../graphql-operations\";\nimport {\n  Button,\n  Col,\n  Container,\n  ListGroup,\n  Modal,\n  Row,\n  Spinner\n} from 'react-bootstrap';\nimport { client } from \"..\";\n\nexport default function Ranking(props) {\n\n  const { loading, data } = useQuery(FIND_RANKING);\n  const ranking = data ? data.RankingSorted : null;\n\n  const { show, setShow } = props;\n\n  const handleClose = () => {\n    client.clearStore();\n    setShow(false);\n  }\n\n  function drawRanking(ranking, position) {\n    return (\n      <ListGroup.Item\n        className=\"ranking\"\n        as=\"li\"\n        key={ranking._id}>\n        <Container>\n          <Row>\n            <Col sm=\"8\" className=\"ranking-col\">\n              <Row>\n                <Col style={{ fontSize: \"1.5rem\" }}>{ranking.user.email}</Col>\n              </Row>\n              <Row className=\"ranking-stats\">\n                <Col>Win Rate</Col>\n                <Col>Total Time</Col>\n                <Col>Total Games</Col>\n              </Row>\n              <Row className=\"ranking-stats\">\n                <Col>{ranking.winRate == 0 ? ranking.winRate : ranking.winRate.toFixed(2)}</Col>\n                <Col>{new Date(ranking.totalTime * 1000).toISOString().substr(11, 8)}</Col>\n                <Col>{ranking.totalGames}</Col>\n              </Row>\n            </Col>\n            <Col sm=\"4\" className=\"d-flex align-items-center justify-content-center ranking-position numberCircle\">{position + 1}</Col>\n          </Row>\n        </Container>\n      </ListGroup.Item>\n    )\n\n  }\n\n  return (\n    <Modal size=\"lg\" show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Trivia Ranking</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {loading ?\n          (<Spinner\n            className=\"loader\"\n            animation=\"border\"\n            role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>) :\n          (<ListGroup\n            as=\"ul\">\n            {ranking && ranking.map((user, index) => {\n              return drawRanking(user, index)\n            })}\n          </ListGroup>)}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}